<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentation</title>
    <link rel="icon" href="fortiss-icon.ico" />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      /* Sidebar layout styles (added on top of shared style.css) */
      .docs-layout {
        display: grid;
        grid-template-columns: 240px 1fr;
        gap: 2rem;
        margin-top: 2rem;
      }

      .sidebar {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 100px;
        height: fit-content;
      }

      .sidebar h3 {
        color: #004080;
        margin-bottom: 1rem;
        border-bottom: 2px solid #004080;
        padding-bottom: 0.5rem;
        font-size: 1.2rem;
      }

      .sidebar-nav {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .sidebar-nav li {
        margin-bottom: 0.75rem;
      }

      .sidebar-nav a {
        color: #333;
        text-decoration: none;
        font-weight: 500;
        display: block;
        padding: 0.5rem 0.75rem;
        border-radius: 6px;
        transition: background 0.3s, color 0.3s;
      }

      .sidebar-nav a:hover,
      .sidebar-nav a.active {
        background: #e9f1fb;
        color: #004080;
        font-weight: 600;
      }

      @media (max-width: 900px) {
        .docs-layout {
          grid-template-columns: 1fr;
        }
        .sidebar {
          position: static;
          margin-bottom: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Documentation</h1>
      <nav>
        <a href="index.html">Home</a>
        <a href="docs.html" class="active">Docs</a>
      </nav>
    </header>

    <div class="docs-layout">
      <aside class="sidebar">
        <h3>Navigation</h3>
        <ul class="sidebar-nav">
          <li><a href="#intro" class="active">Introduction</a></li>
          <li><a href="#overview">GeoNames Overview</a></li>
          <li><a href="#comparisons">Formats Compared</a></li>
          <li><a href="#Limitations">Known Limitations</a></li>
          <li><a href="#references">References</a></li>
        </ul>
      </aside>

      <!-- Main Docs Content -->
      <main>
        <section id="intro" class="content-section">
          <h2>Introduction</h2>
          <p>
            Welcome to the documentation for the SPARQL Interface project based
            on GeoNames CSV dumps. This documentation outlines key observations,
            known limitations, and conventions related to the GeoNames data
            dumps and ontologies used in our implementation.
          </p>
        </section>

        <section id="overview" class="content-section">
          <h2>GeoNames Overview</h2>
          <p>
            The
            <a
              href="https://download.geonames.org/export/"
              target="_blank"
              rel="noopener"
              >GeoNames</a
            >
            geographical database is a large, free, and open dataset containing
            over 25 million geographical names and 11 million unique features.
          </p>
        </section>
        <section id="comparisons" class="content-section">
          <div class="card">
            <h3>Comparing GeoNames Formats:</h3>
            <p>
              GeoNames information can be accessed in different ways depending
              on the intended use case: through its interactive
              <strong>map view</strong>, machine-readable
              <strong>about.rdf</strong> descriptions, or bulk
              <strong>CSV dump files</strong>. Each provides the same underlying
              data but optimized for different consumers.
            </p>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Format</th>
                  <th>Strengths</th>
                  <th>Limitations</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Map View (Web)</td>
                  <td>
                    User-friendly interface; easy navigation; shows hierarchy,
                    nearby places, and alternate names
                  </td>
                  <td>
                    Not well-suited for large-scale data processing; requires
                    manual browsing
                  </td>
                </tr>
                <tr>
                  <td>about.rdf</td>
                  <td>
                    Linked Data compatible; machine-readable; ideal for semantic
                    web applications
                  </td>
                  <td>
                    Single-record per request; high latency for bulk;
                    inefficient for very large sets
                  </td>
                </tr>
                <tr>
                  <td>CSV Dumps</td>
                  <td>
                    Lightweight, compact; bulk access; easy conversion to
                    databases or RDF
                  </td>
                  <td>
                    Lacks some semantic richness; interpretation of codes
                    required; no built-in linked data relations
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <section id="Limitations" class="content-section">
          <h2>Known Limitations</h2>

          <h3>1. dcterms:modified vs. dcterms:created</h3>
          <p>
            The <code>dcterms:created</code> property is not included in the
            GeoNames CSV dump files; therefore, it does not appear in the
            generated Turtle file. Only <code>dcterms:modified</code> is
            available to indicate the last update date.
          </p>

          <h3>2. Ontology URI Protocol Conflict (http vs https)</h3>
          <p>
            The official <code>ontology_v3.3.rdf</code> from GeoNames uses
            <code>https://www.geonames.org/ontology#</code> as its base URI for
            classes and properties. However, most instance data (e.g., from
            <code>sws.geonames.org</code>) uses the
            <code>http://</code> version, and tools like
            <a href="https://yasgui.triply.cc/" target="_blank">YASGUI</a>
            default to <code>http://</code>.
          </p>
          <p>
            To ensure consistency and query compatibility, this project uses a
            <strong>modified version</strong> of the GeoNames ontology (v3.3) in
            which all URIs were changed from <code>https</code> to
            <code>http</code>. This file is named
            <code>ontology_v3.3_modified.rdf</code>
          </p>

          <h3>3. Inconsistencies in alternateName Usage</h3>
          <ul>
            <li>Some alternate names lack language tags</li>
            <li>Language tag formats vary depending on the source dataset</li>
            <li>
              These inconsistencies are inherited directly from the original
              data sources
            </li>
          </ul>
        </section>

        <section id="references" class="content-section">
          <h2>References</h2>
          <ul>
            <li>
              <a href="https://www.geonames.org/ontology/ontology_v3.3.rdf"
                >GeoNames Ontology v3.3</a
              >
            </li>
            <li>
              <a href="../output/ontology_v3.3_modified.rdf"
                >ontology_v3.3_modified.rdf</a
              >
            </li>
            <li>
              <a href="https://www.geonames.org/ontology/mappings_v3.01.rdf"
                >GeoNames Mappings v3.01</a
              >
            </li>
            <li>
              <a href="https://sws.geonames.org/3220837/about.rdf"
                >GeoNames About RDF Example</a
              >
            </li>
            <li>Local file: <code>geonames_DE.ttl</code></li>
            <li>
              <a href="https://download.geonames.org/export/"
                >GeoNames CSV dump data</a
              >
            </li>
          </ul>
        </section>
      </main>
    </div>

    <a href="#" class="back-to-top"><i class="fas fa-arrow-up"></i></a>

    <footer>
      <p>
        This work is licensed under a
        <a
          href="https://creativecommons.org/licenses/by/4.0/"
          target="_blank"
          rel="noopener"
        >
          Creative Commons Attribution 4.0 International License (CC BY 4.0)</a
        >.<br />
        For contact information and funding acknowledgment, see the
        <a href="https://need.energy/" target="_blank" rel="noopener"
          >website of the NEED project</a
        >.
      </p>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const backToTopButton = document.querySelector(".back-to-top");
        const sections = document.querySelectorAll(".content-section");
        const navLinks = document.querySelectorAll(".sidebar-nav a");

        // Show/hide back-to-top button
        window.addEventListener("scroll", () => {
          backToTopButton.style.display =
            window.scrollY > 300 ? "flex" : "none";

          // Highlight active sidebar link
          let current = "";
          sections.forEach((section) => {
            if (window.scrollY >= section.offsetTop - 120) {
              current = section.getAttribute("id");
            }
          });
          navLinks.forEach((link) => {
            link.classList.remove("active");
            if (link.getAttribute("href").substring(1) === current) {
              link.classList.add("active");
            }
          });
        });

        // Smooth scrolling
        navLinks.forEach((link) => {
          link.addEventListener("click", (e) => {
            e.preventDefault();
            const targetId = link.getAttribute("href");
            const target = document.querySelector(targetId);
            window.scrollTo({ top: target.offsetTop - 80, behavior: "smooth" });
          });
        });
      });
    </script>
  </body>
</html>
